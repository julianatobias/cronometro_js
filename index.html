<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cronomêtro</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="./cronometro.png">



    <style>
        .green{
            background-color: #a5f1a9;
        }
        .red{
            background-color: rgb(235, 115, 115);
        }
    </style>
</head>

<body>
    
    <img src="./cronometro.png" alt="Imagem do Crónometro">

    <h1>Cronomêtro</h1>
    <br />
    <!-- Inicio: Div hh-ss Cronometro hh e ss -->
    <div class="mm-ss">
        <h2 id="counter">00:00</h2>
    </div>
    <!--Fim: Div hh-ss Cronometro hh e ss -->
    <!-- Inicio: div Botões Iniciar cronomêtro e Encerrar-->
    <div class="botoes">
        <button class="green" id="botaoI"  onclick="iniciar()">Iniciar</button>
        <button id="botaoE" onclick="encerrar()">Encerrar</button>
    </div>
   
    <!--Fim: div botões Botões Iniciar cronomêtro e Encerrar -->


    <script>
        //Variaveis com valores 
        var mm = 0;
        var ss = 0;
        var tempo = 1000;
        var cronometro; 
        var botaoI = document.getElementById("botaoI");

        var flag = false;

        
        function iniciar() {
            // se for diferente de falso fica vermelho e começa a contagem.
            if(!flag) {
                //setInterval, vai ver os intervalos, recebendo função "function" anônima e tempo.
                cronometro = setInterval(function () {
                    contagem()
                }, tempo);
                botaoI.classList.add('red');
                botaoI.classList.remove('green');
                botaoI.innerText = "Parar";
                flag = true;
            // se não for diferente de falso ficar verde e para a contagem.
            }else{
                botaoI.classList.add('green');
                botaoI.classList.remove('red');
                botaoI.innerText = "Iniciar";
                clearInterval(cronometro);
                flag = false;
            }

        }
    
        //zerando valores zerando intervalo com clearInterval.
        function encerrar() {
            if(flag){
                alert('Cronômetro rodando, clique parar para encerrar a contagem');
            }else{
                clearInterval(cronometro);
                mm = 0;
                ss = 0;
                document.getElementById("counter").innerText = "00:00";
            }
        }
        // verificação de contagem até 59 segundos se é igual a 0 e se 59 é igual a minuto
        function contagem() {
            ss++;
            if (ss === 59) {
                ss = 0;
                mm++;
                if (mm === 59) {
                    mm = 0;
                }
            }
        // Se 10 é maior que segundos e mm é maior que 10, exibição de 00:00 se for falso ou vendade roda, função lup.
            if (ss < 10 && mm < 10) {
                tela = "0" + mm + ":" + "0" + ss
            } else if (mm < 10) {
                tela = "0" + mm + ":" + ss
            } else if (ss < 10) {
                tela = mm + ":" + "0" + ss
            } else {
                tela = mm + ":" + ss
            }
        // Exibição na tela
            document.getElementById("counter").innerText = tela

            return tela
        }

    </script>
</body>

</html>